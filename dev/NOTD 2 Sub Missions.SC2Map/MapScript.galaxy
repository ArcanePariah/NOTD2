//==================================================================================================
// 
// Generated Map Script
// 
// Name:   NOTD 2
// 
//==================================================================================================
include "TriggerLibs/NativeLib"
include "Lib1E3F036D"
include "Lib840A968C"

//--------------------------------------------------------------------------------------------------
// Library Initialization
//--------------------------------------------------------------------------------------------------
void InitLibs () {
    libNtve_InitLib();
    lib1E3F036D_InitLib();
    lib840A968C_InitLib();
}

//--------------------------------------------------------------------------------------------------
// Global Variables
//--------------------------------------------------------------------------------------------------
unit gv_infestor;

void InitGlobals () {
}

//--------------------------------------------------------------------------------------------------
// Trigger Variables
//--------------------------------------------------------------------------------------------------
trigger gt_InfestorStartMission;
trigger gt_InfestorKilled;

//--------------------------------------------------------------------------------------------------
// Trigger: Infestor Start Mission
//--------------------------------------------------------------------------------------------------
bool gt_InfestorStartMission_Func (bool testConds, bool runActions) {
    // Conditions
    if (testConds) {
        if (!((PlayerDifficulty(1) != 0))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_CreateUnitsWithDefaultFacing(1, "InfestorNOTD", 0, lib1E3F036D_gv_zombiePlayer, RegionRandomPoint(RegionFromId(16)));
    AISetUnitNotUsableInWaves(UnitLastCreated(), true);
    gv_infestor = UnitLastCreated();
    TriggerEnable(gt_InfestorKilled, true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_InfestorStartMission_Init () {
    gt_InfestorStartMission = TriggerCreate("gt_InfestorStartMission_Func");
    TriggerAddEventGeneric(gt_InfestorStartMission, lib840A968C_gv_intializeEvent);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Infestor Killed
//--------------------------------------------------------------------------------------------------
bool gt_InfestorKilled_Func (bool testConds, bool runActions) {
    // Actions
    if (!runActions) {
        return true;
    }

    lib840A968C_gf_AwardTeamXP(10);
    lib840A968C_gf_AwardTeamMarineXP(50.0);
    TriggerEnable(TriggerGetCurrent(), false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_InfestorKilled_Init () {
    gt_InfestorKilled = TriggerCreate("gt_InfestorKilled_Func");
    TriggerEnable(gt_InfestorKilled, false);
    TriggerAddEventUnitDied(gt_InfestorKilled, UnitRefFromVariable("gv_infestor"));
}

//--------------------------------------------------------------------------------------------------
// Trigger Initialization
//--------------------------------------------------------------------------------------------------
void InitTriggers () {
    gt_InfestorStartMission_Init();
    gt_InfestorKilled_Init();
}

//--------------------------------------------------------------------------------------------------
// Map Initialization
//--------------------------------------------------------------------------------------------------
void InitMap () {
    InitLibs();
    InitGlobals();
    InitTriggers();
}
